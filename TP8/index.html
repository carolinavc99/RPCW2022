<!DOCTYPE html>
<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script>
    $(document).ready(function() {
        var id = 0;
        var idx = 0;
        var divclass = ''

        $('#submit').click(function() {
            $("#paragrafos").append("<div id='d" + id + "' class ='c" + id + "'><li>" + $("#texto").val() + '</li><form><input id="remove' + id + '" type="button" value="Remove" class="c' + id + '"><input id="edit' + id + '" type="button" value="Edit" class="c' + id + '"></form>');
            $("#texto").val("");
            id += 1;
          });
    });

    $(document).on('click','input[id^=remove]',function(){
        divclass = "." + $(this).attr("class");
        $(divclass).hide();
    });

    $(document).on('click','input[id^=edit]',function(){
        // get div which has the text
        divclass = "." + $(this).attr("class");
        // get number-only id
        idx = divclass.substring(2)
        // get texto from li (div)
        var text = $(divclass).find("li").text()
        // copy texto para form
        $("#texto").val(text)

        // replace form button with another one
            // to avoid having two click-events for #submit
        $("#submit").hide()
        $("#submitedited").show()

        // get paragraph and replace text
});

    $(document).on('click',"#submitedited", function() {
        $(divclass).replaceWith("<div id='d" + idx + "' class ='c" + idx + "'><li>" + $("#texto").val() + '</li><form><input id="remove' + idx + '" type="button" value="Remove" class="c' + idx + '"><input id="edit' + idx + '" type="button" value="Edit" class="c' + idx + '"></form>');
        $("#texto").val("");

        $("#submitedited").hide()
        $("#submit").show()
            
    });

  </script>
  <style>
      html {
          font-family: 'Optima', sans-serif;
      }

      h1 {
          text-align: center;
      }

      #formulario {
          border-bottom: solid black 1px;
          padding: 10px;
      }
      #paragrafos {
          display:block;
          list-style: square;
      }
  </style>
</head>
<body>
    <h1>My TODO List</h1>
    <div id="formulario">
        <p class="add-task">Add next task</p>
        <form>
            <input type="text" id="texto">
            <input id="submit" type="button" value="Add">
            <input id='submitedited' type='button' value='Adding' hidden>
        </form>   
    </div>
  <div>
      <ul id="paragrafos">

      </ul>
  </div>
</body>
</html>